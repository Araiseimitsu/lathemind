シチズンマシナリーのCincom L20シリーズ（L20 VII, VIII, IX, X, XIIなど）における標準的なプログラム構成のサンプルを、ソース資料に基づき提示します。  
Cincomのプログラミングは、複数の系統（$1、$2など）を同時に走らせる\*\*「多系統制御」\*\*が特徴であり、オーケストラの指揮のように各系統を同期させて加工を行います 1, 2。

### Cincom L20 プログラム構成サンプル（正面加工・2系統仕様）

以下は、素材の外径を削り（前挽き）、製品を突切り、回収する標準的な流れです 3-5。  
O0001 (SAMPLE-L20)      (プログラム番号)  
$1                      (第1系統：主に正面主軸・くし刃台)  
G50 Z0                  (座標系設定：材料端面をZ0とする) \[6\]  
M06                     (主軸チャック閉) \[3\]  
G00 X21.0 Z-1.0         (アプローチ点へ移動)  
M03 S1=2500 G99         (主軸正転、毎回転送り) \[3\]  
G610 G610               (加工パターン：1系統・2系統の交互加工) \[7\]

N0103 T0300             (工程1：外径切削ツール選択)  
M34                     (製品回収一連動作開始) \[2\]  
G00 X14.0 Z-1.0 T01     (位置決め、補正No.1有効)  
G01 Z40.0 F0.05         (直線切削)  
X21.0 F0.2              (逃げ)  
\!2 L1                   (系統間待ち合わせ：$2側のL1と同期) \[1, 8\]

N0201 T0100             (工程2：突切りツール選択)  
G00 X21.0 Z52.0 T02     (突切り位置へ移動)  
M320                    (背面主軸/ワークセパレータ回収位置へ前進) \[9, 10\]  
G01 X-1.0 F0.03         (ワークの突切り) \[3\]  
X-3.0 F0.05             (中心を越えて切断)  
M141                    (背面主軸/セパレータを原点へ後退) \[3\]  
M05                     (主軸停止)  
M07                     (チャック開) \[11\]  
G00 X-3.0 Z0 T00        (スタート点に戻る/補正キャンセル) \[3, 12\]  
M56                     (製品個数カウント) \[3, 13\]

G999 G999               (ラストプログラム実行指令：残材排出用) \[2, 14\]  
G610 G610               (加工パターン指定)  
M34                     (製品回収)  
G600 G600               (フリーパターン：加工パターン解除) \[3, 9\]  
N999 N999               (ラストプログラム終了待ち) \[15\]  
M02                     (1サイクル停止・完了) \[13, 16\]  
M99                     (プログラム先頭へリターン) \[13, 16\]  
%

$2                      (第2系統：主に背面主軸・背面加工)  
(※$1側と対になる指令を記述)  
\!1 L1                   (系統間待ち合わせ) \[8\]  
G999  
N999  
M02  
M99  
%

### プログラム構成の解説

* **系統宣言 ($1, $2):** L20は2系統（または3系統）の制御グループを持っており、それぞれのプログラムを独立して記述しますが、1つのプログラム番号で管理されます 17-19。  
* **加工パターン (G610, G630, G650):**  
* **G610:** 1系統と2系統を交互に動かす際に使用します 7, 20。  
* **G630:** 正面と背面を並列に加工する際に使用します 3, 7。  
* **G650:** ピックオフ（正面主軸から背面主軸へのワーク受け渡し）時に使用します 7, 21。  
* **待ち合わせ指令 (\!L):** 複数の系統が衝突しないよう、または同時に動作を開始するようにタイミングを合わせます。「\!2 L1」は「第2系統のL1というラベルに到達するまで待て」という意味です 8, 22。  
* **ラストプログラム (G999 ～ N999):** 1サイクル運転や製品カウントアップで停止する際、最後の材料を安全に排出するための動作をこの間に記述します 14, 23, 24。  
* **製品回収 (M34):** 軸の移動からノックアウト排出までの一連の動作を自動で行うCincomの便利な機能です 2。

**ナレッジの例え:**このプログラム構成は\*\*「舞台の台本」\*\*のようなものです。役者A（$1系統）と役者B（$2系統）がそれぞれのセリフに従って動きますが、合図（\!L指令）によってお互いのタイミングを合わせ、舞台装置（Mコード）を操作しながら一つの劇（製品加工）を完成させます 2。  
